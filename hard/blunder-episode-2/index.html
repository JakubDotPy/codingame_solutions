<h1>Blunder - Episode 2</h1>

<a href="https://www.codingame.com/training/hard/blunder-episode-2">https://www.codingame.com/training/hard/blunder-episode-2</a>

<div class="statement_back" id="statement_back" style="display:none">&nbsp;</div>

<div class="statement-body"><!-- GOAL -->
<div class="statement-section statement-goal">
<h2><span class="icon icon-goal">&nbsp;</span> <span>The Goal</span></h2>

<div class="statement-goal-content">You have managed to find Blunder. His circuits are programmed with an algorithm which has made him lose all sense of humor or fun. You decide to return his system to his original behavior.<br />
<br />
The first trait of character that you are going to work on is his passion for money. Blunder can detect bank notes several miles away.<br />
<br />
Your objective is to write a program that will lead him to always find the most money possible, wherever it is.</div>
</div>
<!-- RULES -->

<div class="statement-section statement-rules">
<h2><span class="icon icon-rules">&nbsp;</span> <span>Rules</span></h2>

<div>
<div class="statement-rules-content">To check that your algorithm works properly, Blunder is placed in a room at the entrance of a building. There is a sum of money in each of the rooms that make up this building. Each room has exactly two doors which you can use to get out. Each door leads either to a new room or to the outside of the building.<br />
<br />
Blunder must collect as much money as possible, by going from room to room, <b>without being able to go back</b>, until he gets out of the building. Thanks to his sensors, Blunder can analyze the building right from the outset in order to detect the list of rooms and the money contained in each of them. This analysis of the rooms will be provided as input for your program so that you can implement an algorithm that will make the best decisions.<br />
<br />
Each room in the building has a unique number. Each door of a room is marked with a number, which represents the number of the room that it opens, or E if it opens to the outside of the building. Several doors can lead to one room but due to the layout of the building <b>it is impossible for Blunder to go through the same room twice</b>. Some doors open in one direction only.<br />
<br />
The first room in which Blunder finds himself has the number <const>0</const>.</div>
</div>
</div>
<!-- EXAMPLES -->

<div class="statement-section statement-examples">
<h2><span class="icon icon-example">&nbsp;</span> <span>Example</span></h2>

<div class="statement-examples-text">
<div class="statement-example-horizontal">
<div style="width: 231px;display: table-cell;background-color: transparent;vertical-align: middle;padding: 0;border: 1px solid #dadada"><img src="https://www.codingame.com/fileservlet?id=497673365359" style="width: 100%" /></div>

<div class="legend">In this example, Blunder pockets $40 by going through the rooms 0, 2, 3 and 5 before leaving the building.</div>
</div>
</div>
</div>
<!-- PROTOCOL -->

<div class="statement-section statement-protocol">
<h2><span class="icon icon-protocol">&nbsp;</span> <span>Game Input</span></h2>
<!-- Protocol block -->

<div class="blk">
<div class="title">Input</div>

<div class="text">
<p><span class="statement-lineno">Line 1: </span>the number <var>N</var> of rooms in the building.</p>

<p><span class="statement-lineno">N following lines: </span>one line with a room number (integer), a sum of money (integer), the two numbers of the rooms which are accessible (integers or E if the door is an exit). These four values are separated by a white space.</p>
</div>
</div>
<!-- Protocol block -->

<div class="blk">
<div class="title">Output</div>

<div class="text">An integer representing the maximum amount of money that Blunder can collect by taking a series of doors to reach the outside of the building.</div>
</div>
<!-- Protocol block -->

<div class="blk">
<div class="title">Constraints</div>

<div class="text">0 &lt; <var>N</var> &lt; 10000</div>
</div>
<!-- Protocol block -->

<div class="blk">
<div class="title">Example</div>

<div class="text">
<div class="statement-inout">
<div class="statement-inout-in">
<div class="title">Input</div>

<pre>
15
0 17 1 2
1 15 3 4
2 15 4 5
3 20 6 7
4 12 7 8
5 11 8 9
6 18 10 11
7 19 11 12
8 12 12 13
9 11 13 14
10 13 E E
11 14 E E
12 17 E E
13 19 E E
14 15 E E</pre>
</div>

<div class="statement-inout-out">
<div class="title">Output</div>

<pre>
88</pre>
</div>
</div>
</div>
</div>
</div>
</div>