<h1>Sliding Maze Puzzle</h1>

<a href="https://www.codingame.com/training/hard/sliding-maze-puzzle">https://www.codingame.com/training/hard/sliding-maze-puzzle</a>

<div class="statement-body">
<div class="statement-section statement-goal">
   <h2><span class="icon icon-goal">&nbsp;</span><span>Goal </span></h2>
   <span class="question-statement">You're trapped in a maze designed on a 9 x 9 grid.<br><br>You're given the initial position of the tile you stand on (the tileset is described later) and the map of the maze.<br>The following symbols describe each cell of the grid: <const>&quot;.&quot;</const> indicates that the cell is located in floor 0, <const>&quot;=&quot;</const> indicates that the cell is located in floor 1, <const>&quot;+&quot;</const> represents a stairset between floor 0 and floor 1,  <const>&quot;#&quot;</const> represents a wall (which prevents you to move on both floors) and <const>&quot;~&quot;</const> represents water.<br><br>The grid is divided into nine 3 x 3 tiles as seen in this example:<br><pre style="font-family: monospace"></pre><pre style="font-family: monospace"><br>### #.# #.#<br>==# #.# #..<br>#=# #+# ###<br><br>#=# ~~~ ###<br>#== ~~~ +..<br>### ~~~ ###<br><br>#.# ### ###<br>#.. === ..#<br>### ### #.#<br></pre><pre style="font-family: monospace"></pre><br>All maze configurations use <strong>the same nine tiles</strong> placed differently and potentially rotated. It means that you won't be surprised by a new tile shape.<br><br>The tiles can slide on water, leaving always one empty tile over water cells in a typical sliding puzzle fashion.<br>For example in the previous maze the tile of row 1 and column 0 can move right, and the maze tiles become:<br><pre style="font-family: monospace"></pre><pre style="font-family: monospace"><br>### #.# #.#<br>==# #.# #..<br>#=# #+# ###<br><br>~~~ #=# ###<br>~~~ #== +..<br>~~~ ### ###<br><br>#.# ### ###<br>#.. === ..#<br>### ### #.#<br></pre><pre style="font-family: monospace"></pre><br>You must exit the maze by completing a sequence of moves. At each step, You can chose to move either the player from one whole tile to another or to slide a whole tile.<br><br>You must respect the following conditions:<br>- the player can walk from a tile of one floor to a tile of the same floor but cannot jump from one floor to the other one,<br>- if the player uses a stairset, then the player must necessarily end up on the other floor,<br>- an exception to the previous rule is: if a stairset directly leads to another stairset, it cancels your floor change so you go back to the same floor,<br>- the player cannot walk on water,<br>- to slide a tile, the player must be on a tile of floor 0 (that's where the mechanisms are located),<br>- you cannot slide the tile where the player stands.<br><br><strong>The exit is located on floor 1, to the left of the top left tile location. It means that the player must reach the top left tile location on a floor 1 tile with an opening on the left wall or a floor 0 tile with a stairset leading left. The player then exits the maze by moving left.</strong></span>
</div>
<div class="statement-section statement-protocol">
   <div class="blk">
      <div class="title">Input</div>
      <div class="question-statement-input"><strong>Line 1:</strong> Two integers <var>R</var> and <var>C</var> for the starting row and column of the <strong>whole tile</strong> where the player stands.<br><strong><const>9</const> next lines :</strong> A row of the grid.</div>
   </div>
   <div class="blk">
      <div class="title">Output</div>
      <div class="question-statement-output"><strong> Line 1:</strong> One integer <var>N</var> for the minimal number of instructions required to escape the maze.<br><strong> <var>N</var> lines :</strong> The instructions to escape the maze: the letter <const>&quot;P&quot;</const> for player or <const>&quot;T&quot;</const> for tile, one blank space, and a symbol <const>&quot;v&quot;</const>, <const>&quot;&lt;&quot;</const>, <const>&quot;&gt;&quot;</const>, or <const>&quot;^&quot;</const> to describe the move (meaning respectively down, left, right and up).<br>Note that you don't have to specify which tile is moving. For example if you say &quot;T &gt;&quot;, the moving tile is necessarily the left neighbour of the empty tile.<br><strong>Important note:</strong> If several solutions of length <var>N</var> exist, display the one that, <strong>for the first move</strong>, moves in priority player over tiles, and that prioritize directions in the following order: <const>&quot;v&quot;</const>, <const>&quot;&lt;&quot;</const>, <const>&quot;&gt;&quot;</const>, <const>&quot;^&quot;</const>. If there are still tied solutions, use the second move as a tie breaker, if it's not enough use the third move and so on until only one solution remains.</div>
   </div>
   <div class="blk">
      <div class="title">Constraints</div>
      <div class="question-statement-constraints"><var>N</var> &le; 200</div>
   </div>
   <div class="blk">
      <div class="title">Example</div>
      <div class="statement-inout">
         <div class="statement-inout-in">
            <div class="title">Input</div>
            <pre class="question-statement-example-in">0 1
####.##.#
==##.##..
#=##+####
#=#~~~###
#==~~~+..
###~~~###
#.#######
#..===..#
#######.#</pre>
         </div>
         <div class="statement-inout-out">
            <div class="title">Output</div>
            <pre class="question-statement-example-out">9
T &gt;
P v
P &gt;
T &lt;
T ^
P &lt;
P &lt;
P ^
P &lt;</pre>
         </div>
      </div>
   </div>
</div>