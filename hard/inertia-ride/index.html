<h1>Inertia ride</h1>

<a href="https://www.codingame.com/training/hard/inertia-ride">https://www.codingame.com/training/hard/inertia-ride</a>

<div class="statement-body">
<div class="statement-section statement-goal">
   <h2><span class="icon icon-goal">&nbsp;</span><span>Goal </span></h2>
   <span class="question-statement"><strong>You're riding a roller coaster track, starting on the left and stopping on the right&hellip; or somewhere in the middle, if you run out of inertia !</strong><br><br>A roller coaster is composed of several tracks in an ASCII form :  horizontal tracks (underscores <const>_</const>), descending slopes (backslashes <const>\</const>), and ascending slopes (slashes <const>/</const>). Every part that is not a track is represented by a dot <const>.</const><br>In this puzzle, every roller coaster is well formed&nbsp;:<br>- It starts and ends with a horizontal track.<br>- It is not broken, i.e. every ascii column has one and only one track, and tracks are correctly aligned.<br>- It has no V-sink <const>\/</const>&nbsp;: a descending track cannot be followed by an ascending one.<br><br>Your goal is to tell in which position your wagon will stop (counted from  <const>0</const> for the leftmost track element), given the following rules&nbsp;:<br><br>&bull; Your wagon starts on the first track with a given starting inertia.<br>&bull; At the beginning of each turn, your inertia will change depending on the track your wagon is on&nbsp;:<br> - A horizontal track <const>_</const> decreases your inertia by <const>1</const>.<br> - A descending track <const>\</const> increases your inertia by <const>9</const>.<br> - An ascending track <const>/</const> decreases your inertia by <const>10</const>.<br>&bull; If your inertia goes negative, your wagon changes direction (switching back your inertia to its absolute value and reversing ascending and descending tracks).<br>&bull; After the inertia update, your wagon will move to the next track in its current direction. Null inertia implies staying in place.<br>&bull; If your wagon reaches the last track or comes back to the first one, it stops there immediately.<br>&bull; A wagon on a horizontal track with an inertia of <const>0</const> will stop.<br><br>Keep in mind that if your wagon's inertia reaches <const>0</const> on a slope, it is not finally stopped.<br><br><strong>Example 0:</strong><br>Your wagon enters a fully-horizontal track on position <const>0</const> with an inertia of <const>2</const>. Its inertia decreases to <const>1</const>, which is positive, so it moves right. Its inertia decreases to <const>0</const>, so it doesn't move. Since it's stopped on flat tracks, it won't move again, so its final position is <const>1</const>.<br><br><strong>Example 1&nbsp;:</strong><br>Your wagon is on an ascending track <const>/</const> with an inertia of <const>11</const>. The inertia is decreased to <const>1</const> and then your wagon move to the next track, which is a horizontal track <const>_</const>. Your inertia then falls down to <const>0</const> and your wagon stops.<br><br><strong>Example 2&nbsp;:</strong><br>Your wagon is on an ascending track <const>/</const> with an inertia of <const>8</const>. The inertia is decreased to <const>-2</const> so your wagon changes direction and move to the previous track with an inertia of <const>2</const>.<br><br><strong>Example 3&nbsp;:</strong><br>Your wagon is on an ascending track <const>/</const> with an inertia of <const>10</const>. The inertia is decreased to <const>0</const> so your wagon doesn't move. It is not stopped however, since in the next turn, the inertia will be decreased again to <const>-10</const>. Your wagon will then change direction and move to the previous track with an inertia of <const>10</const>.</span>
</div>
<div class="statement-section statement-protocol">
   <div class="blk">
      <div class="title">Input</div>
      <div class="question-statement-input"><var>inertia</var>&nbsp;: the starting inertia of your wagon<br><var>W</var> <var>H</var>&nbsp;: the width and height of the roller coaster<br>Next <var>H</var> lines&nbsp;: the ASCII roller coaster</div>
   </div>
   <div class="blk">
      <div class="title">Output</div>
      <div class="question-statement-output">An integer <var>i</var> giving the <const>0</const>-based track position where your wagon will stop.</div>
   </div>
   <div class="blk">
      <div class="title">Constraints</div>
      <div class="question-statement-constraints">0 &lt; <var>inertia</var> &lt; 100<br>0 &lt; <var>W</var>, <var>H</var> &lt; 100</div>
   </div>
   <div class="blk">
      <div class="title">Example</div>
      <div class="statement-inout">
         <div class="statement-inout-in">
            <div class="title">Input</div>
            <pre class="question-statement-example-in">2
8 4
_.......
.\....._
..\.../.
...\_/..</pre>
         </div>
         <div class="statement-inout-out">
            <div class="title">Output</div>
            <pre class="question-statement-example-out">7</pre>
         </div>
      </div>
   </div>
</div>