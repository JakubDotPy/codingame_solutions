<h1>Hexagonal Maze - part2</h1>

<a href="https://www.codingame.com/training/hard/hexagonal-maze---part2">https://www.codingame.com/training/hard/hexagonal-maze---part2</a>

<div class="statement-body">
<div class="statement-section statement-goal">
   <h2><span class="icon icon-goal">&nbsp;</span><span>Goal </span></h2>
   <span class="question-statement">You are in a maze, made of hexagonal cells.<br>The following grid :<br><pre style="font-family: monospace">4 4<br>ABCD<br>EFGH<br>IJKL<br>MNOP</pre><br>has to be understood like this :<br><pre style="font-family: monospace">A B C D  (line 0)<br> E F G H (line 1)<br>I J K L  (line 2)<br> M N O P (line 3)</pre><br>This means each cell has 6 neighbours : for example, cell F is surrounded by B, C, E, G, J, K.<br>Even lines are left-aligned, odd lines are right-aligned.<br>You don't have to deal with borders : the grid isn't periodic and there are only walls on the borders.<br><br>The grid contains following symbols :<br><const>#</const> : wall<br><const>.</const> : free space<br><const>S</const> : start<br><const>E</const> : end<br><const>_</const> : sliding floor<br>Uppercase letters <const>A</const>, <const>B</const>, <const>C</const>, <const>D</const> : Closed doors<br>Lowercase letters <const>a</const>, <const>b</const>, <const>c</const>, <const>d</const> : Keys which open doors<br><br>What is a sliding floor ? when you walk on a sliding floor, you just walk straight in the same direction until you are on a non-sliding cell, or in front of an obstacle.<br>You take a key by walking on the cell (no more action). The key is like a free space (not sliding).<br>Closed doors are like a wall if you didn't take the key, and like a free space (not sliding) if you took key. A key only opens the door with corresponding letter (<const>a</const> for <const>A</const> etc...). There may be several doors <const>A</const> for one key <const>a</const>, in this case the key open all the doors with corresponding letter.<br><br>In this puzzle, you have to output the directions used in order to go from the start to the end on the shortest path.<br>There are 6 directions, combining Left, Right, Up and Down. These 6 directions are: <const>UL</const>, <const>UR</const>, <const>L</const>, <const>R</const>, <const>DL</const>, <const>DR</const>.<br><const>U</const> and <const>D</const> aren't directions, because of the hexagonal grid.<br><br>You don't have to output several times the same direction when you are sliding (see the example).<br>There is always a solution.<br>There may be more than one path, but only one shortest path.<br>The &quot;shortest&quot; path is counted by the number of directions given, not by the number of cells. Sliding on 10 consecutive cells is shorter than walking on 3 free spaces.</span>
</div>
<div class="statement-section statement-protocol">
   <div class="blk">
      <div class="title">Input</div>
      <div class="question-statement-input"><strong>First line:</strong> two integers <var>w</var> and <var>h</var>, width and height of the grid.<br><br><strong><var>h</var> following lines:</strong> the grid.</div>
   </div>
   <div class="blk">
      <div class="title">Output</div>
      <div class="question-statement-output">Space separated directions to follow, within <const>UL</const>, <const>UR</const>, <const>L</const>, <const>R</const>, <const>DL</const>, <const>DR</const></div>
   </div>
   <div class="blk">
      <div class="title">Constraints</div>
      <div class="question-statement-constraints">4 &le; <var>w</var>, <var>h</var> &le; 40</div>
   </div>
   <div class="blk">
      <div class="title">Example</div>
      <div class="statement-inout">
         <div class="statement-inout-in">
            <div class="title">Input</div>
            <pre class="question-statement-example-in">10 4
##########
#S.___.###
#######.E#
##########</pre>
         </div>
         <div class="statement-inout-out">
            <div class="title">Output</div>
            <pre class="question-statement-example-out">R R DR R</pre>
         </div>
      </div>
   </div>
</div>