<h1>Advertisements</h1>

<a href="https://www.codingame.com/training/hard/advertisements">https://www.codingame.com/training/hard/advertisements</a>

<div class="statement-body">
<div class="statement-section statement-goal">
   <h2><span class="icon icon-goal">&nbsp;</span><span>Goal </span></h2>
   <span class="question-statement">Higher management of your local supermarket has implemented a variety of advertisements: X for the price of Y, for groups of products, product groups or brands. Nice and all - but as their neighborhood IT specialist it falls to you to upgrade their check-out system. During evaluating their advertisements, it seems some shady deals are going on ('2 apples for the price of 3?!') - but you are only the IT specialist, so you simply follow the assignment to the letter.<br><br>Based on scanning the advertisement(s) and a list of items, your program must output the total price to be paid for those items (after all price changes due to the advertisements), and the discount. Output the total price and discount as floats with two decimal places (cents).<br><br><strong>Advertisement and shopping list formats</strong><br>All advertisements are in the following format: <const>All</const> <strong>S</strong>: <strong>X</strong> <const>for the price of</const> <strong>Y</strong><br><strong>X</strong> and <strong>Y</strong> can be any integer, and <strong>S</strong> can be either a product, group or brand name. <strong>For example:</strong> <pre style="font-family: monospace">All deodorant: 3 for the price of 2</pre><br>Items in the item list are in the following format:<br><var>product</var> <var>group</var> <var>brand</var> <var>price</var>. <strong>For example:</strong> <pre style="font-family: monospace">deodorant hygiene aks 4.95</pre><br>- <strong>product</strong>: the type of item<br>- <strong>group</strong>: the product group an item belongs to, like hygiene, food, drinks, etcetera<br>- <strong>brand</strong>: a brand name<br><br><strong>Rules</strong><br>1. An advertisement always concerns either a <strong>product</strong>, a <strong>group</strong> or a <strong>brand</strong>. <br>2. There will never be multiple advertisements for an identical product, group or brand.<br>3. All names (product, group and brand) are unique single words. <br>4. When the application of a single advert has multiple options, calculations are applied as follows:<br>-- If of X items, Y need to be paid, and X&gt;Y, the X-Y highest prices are waived. <br>-- If X&lt;Y, the lowest price is added Y-X times (for example: <const>All seafood: 2 for the price of 3</const>)<br>-- For any remaining options, items are chosen such that the final discount is highest.<br><br><strong>Specifics regarding qualifying for multiple advertisements</strong><br>5. In none of the tests and validation cases an item will qualify for more than two advertisements.<br>6. If an item qualifies for multiple advertisements, maximum one of the advertisements is applied to that item: the one that results in the highest discount.<br>7. In case of multiple advertisements, one advertisement is applied to the fullest, and only after that the next advertisement is applied. The order of advertisements needs to be such that it leads to the best result for the customer.<br><strong>For example</strong>, 10 items qualify for both advertisement A: <const>3</const> for <const>2</const>, and B: <const>4</const> for <const>1</const>. If advertisements are considered in order A -&gt; B, then first A will be applied fully (3 * 3 for 2), leaving only 1 item (not enough for B). If instead the order of B -&gt; A is considered, then first B will be applied (2 * 4 for 1), leaving only 2 items (not enough for A).</span>
</div>
<div class="statement-section statement-protocol">
   <div class="blk">
      <div class="title">Input</div>
      <div class="question-statement-input"><strong>Line 1:</strong> integer <var>na</var>: number of advertisements<br><strong>Next <var>na</var> lines:</strong> string <var>advertisement</var>, '<const>All</const> <strong>S</strong><const>:</const> <var>X</var> <const>for the price of </const> <var>Y</var>'. <strong>S</strong> can refer to an item's product, group or brand.<br><strong>Next line:</strong> integer <var>ni</var>: number of items on shopping list<br><strong>Next <var>ni</var> lines:</strong> four space separated strings: per item the <var>product</var>, <var>group</var>, <var>brand</var> and <var>price</var>. <var>price</var> is always a float.</div>
   </div>
   <div class="blk">
      <div class="title">Output</div>
      <div class="question-statement-output"><strong>Line 1:</strong> float with two decimal places: price after discount<br><strong>Line 2:</strong> float with two decimal places: discount given</div>
   </div>
   <div class="blk">
      <div class="title">Constraints</div>
      <div class="question-statement-constraints">1&lt;=<var>na</var>&lt;=12<br>1&lt;=<var>ni</var>&lt;=50<br>0&lt;=<var>Y</var>&lt;=10<br>1&lt;=<var>X</var>&lt;=10<br>0.10&lt;=<var>price</var>&lt;=50.00</div>
   </div>
   <div class="blk">
      <div class="title">Example</div>
      <div class="statement-inout">
         <div class="statement-inout-in">
            <div class="title">Input</div>
            <pre class="question-statement-example-in">1
All deodorant: 2 for the price of 1
5
deodorant hygiene aks 3.00
chips snacks loys 2.00
deodorant hygiene dover 4.50
chips snacks loys 2.00
olives food olia 2.50</pre>
         </div>
         <div class="statement-inout-out">
            <div class="title">Output</div>
            <pre class="question-statement-example-out">9.50
4.50
</pre>
         </div>
      </div>
   </div>
</div>