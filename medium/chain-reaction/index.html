<h1>Chain Reaction</h1>

<a href="https://www.codingame.com/training/medium/chain-reaction">https://www.codingame.com/training/medium/chain-reaction</a>

<div class="statement-body">
<div class="statement-section statement-goal">
   <h2><span class="icon icon-goal">&nbsp;</span><span>Goal </span></h2>
   <span class="question-statement">You're in a maze. <br>Again... <br>But finding the exit is not the issue. It's just there, in front of you, behind this handleless door.<br>On the door, there are <var>r</var> rows of <var>b</var> buttons.<br><br>You quickly realise that you can rotate the buttons and that by doing so you might trigger a chain reaction among the others.<br><br>You have to find which of the buttons will trigger the biggest chain reaction on the door in order to open it, and finally get out of this damn maze. (In case of multiple solutions, output the first one encountered from the top left).<br><br>A button is shaped like this:<br>   |<br>   +--<br><br>If you trigger it, it rotates 90&deg; clockwise:<br><br>  +--<br>  |<br><br>If after its rotation one of its legs connects with a leg of another button, the latter is automatically triggered.<br><br>For example:<br><const> </const><const> </const>|<br><const> </const><const> </const>+--<br><br><const> </const><const> </const>|<br>--+<br><br>If you trigger the top button, you end up with:<br>  <br><const> </const><const> </const>+--<br><const> </const><const> </const>|<br><const> </const><const> </const>|<br>--+<br><br>The bottom leg of the top button connects with the top leg of the bottom button, which triggers the bottom button.<br><br><const> </const><const> </const>+--<br><const> </const><const> </const>|<br>  <br>--+<br><const> </const><const> </const>|<br><br>The triggered button will then possibly trigger up to 2 other buttons (one per leg) and so on. <br><br>Note that the direction of rotation changes at each step, alternating clockwise and anticlockwise. A clockwise rotation triggers an anticlockwise rotation and vice versa. Also, when several buttons are triggered, they rotate simultaneously.</span>
</div>
<div class="statement-section statement-protocol">
   <div class="blk">
      <div class="title">Input</div>
      <div class="question-statement-input"><strong>Line 1:</strong> An integer <var>r</var> for the number of rows<br><strong>Line 2:</strong> An integer <var>b</var> for the number of buttons per row<br><strong>Next <var>r</var> x 3 lines</strong>: A string for the <var>b</var> buttons of the row<br><br><strong>Note:</strong> A row of buttons is made of 3 lines of <var>b</var> x 5 characters, empty spaces included.</div>
   </div>
   <div class="blk">
      <div class="title">Output</div>
      <div class="question-statement-output"><strong>Line 1:</strong> Two space separated integers: the <var>index of the row</var> and <var>index of the button</var> that triggered the chain reaction.<br><strong>Line 2:</strong> An integer for the <var>number of rotations</var> triggered, including the first one.</div>
   </div>
   <div class="blk">
      <div class="title">Constraints</div>
      <div class="question-statement-constraints">1 &lt;= <var>r</var> &lt;= 25<br>3 &lt;= <var>b</var> &lt;= 25</div>
   </div>
   <div class="blk">
      <div class="title">Example</div>
      <div class="statement-inout">
         <div class="statement-inout-in">
            <div class="title">Input</div>
            <pre class="question-statement-example-in">1
4
  |    |    |    |  
  +----+  --+    +--
                    </pre>
         </div>
         <div class="statement-inout-out">
            <div class="title">Output</div>
            <pre class="question-statement-example-out">0 1
4</pre>
         </div>
      </div>
   </div>
</div>