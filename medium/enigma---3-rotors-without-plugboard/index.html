<h1>Enigma - 3 rotors without plugboard</h1>

<a href="https://www.codingame.com/training/medium/enigma---3-rotors-without-plugboard">https://www.codingame.com/training/medium/enigma---3-rotors-without-plugboard</a>

<div class="statement-body">
<div class="statement-section statement-goal">
   <h2><span class="icon icon-goal">&nbsp;</span><span>Goal </span></h2>
   <span class="question-statement">The Enigma machines were a series of rotor cypher machines. Such machine is made of four main elements:<br>- a keyboard,<br>- a plugboard to substitute letters,<br>- several rotors and a reflector,<br>- lamps to read the result.<br><br>For this puzzle, we will always use three rotors and no plugboard.<br><br><br><strong> The rotors </strong><br><br>A rotor consists of 26 wires linking an alphabet on one side to different positions in another alphabet on the other side. For example, B on one side might connect to K on the other side. When a key is pressed, electric signal passes through one wire each of three rotors in sequence, then through the reflector, then back through the rotors in the opposite direction.<br><br>The rotors will rotate, wires change position and the alphabet substitutions will change.<br><br><strong> Effect of a rotation </strong><br><br>Let's take rotors with only 5 letters (A, B, C, D, E).<br>There are wires that set substitutions:<br>A - B, B - D, C - E, D - C, E - A<br>After both alphabets rotate around these wires, the substitution will become:<br>E - A, A - C, B - D, C - B, D - E, then<br>D - E, E - B, A - C, B - A, C - D,<br><br><strong> Conditions leading to a rotation </strong><br><br>Each rotor has a <var>triggering position</var> (defined as letter) that may have effects on rotation depending on rotors position.<br>To make it simple:<br>All rotations are done before coding and ouput is based on new positions.<br>The first rotor rotate when a key is pressed.<br>If first rotor reaches its triggering position, the second rotor will rotate at the next input.<br>If second rotor reaches its triggering position, at next input, the third rotor <strong>and</strong> the second rotor (once again) will rotate.<br><br><br><strong> Usage of an Enigma machine </strong><br><br>Cypher keys are set based on the three rotors' <var>starting position</var> and wires on plugboard.<br><br>Input <var>wires</var> describe the rotor at position A. One rotation -&gt; position B. Another rotation -&gt; position C.<br><br>In order to process a <var>message</var>, we have to take each input letter, make it go through all the rotors (from 1 to 3), then the reflector, and finally through all the rotors in reverse order (so, from 3 to 1).<br><br><br><strong> Example </strong><br><br>In Test 1 below, rotor 1 starts in position A, which includes the wire Y-C. Pressing the X key causes rotor 1 to rotate such that that wire is now X-B. Wire T-P becomes S-O.<br>Then the input X becomes B, B becomes J, J becomes T. The reflector swaps T to Z. Returning through the rotors, Z becomes M, M becomes O, and O becomes S.<br><br><strong> References </strong><br><br>If you want to learn more about Enigma, you can look at this page: https://meinenigma.com/enigma-simulators/ .</span>
</div>
<div class="statement-section statement-protocol">
   <div class="blk">
      <div class="title">Input</div>
      <div class="question-statement-input"><var>wire</var> are written as &quot;A-B&quot; or &quot;C-D&quot;<br><br><strong>line 1</strong> rotor 1: 26 <var>wire</var> space separated<br><strong>line 2</strong> rotor 1 triggering position <var>char</var><br><strong>line 3</strong> rotor 2: 26 <var>wire</var> space separated<br><strong>line 4</strong> rotor 2 triggering position <var>char</var><br><strong>line 5</strong> rotor 3: 26 <var>wire</var> space separated<br><strong>line 6</strong> rotor 3 triggering position <var>char</var><br><strong>line 7</strong> reflector: 26 <var>wire</var> space separated<br><strong>line 8</strong> starting position each rotor: <var>char</var> <var>char</var> <var>char</var><br><strong>line 9</strong> message: <var>string</var></div>
   </div>
   <div class="blk">
      <div class="title">Output</div>
      <div class="question-statement-output">The <var>string</var> obtained by typing the given message on the enigma machine described in the inputs.</div>
   </div>
   <div class="blk">
      <div class="title">Constraints</div>
      <div class="question-statement-constraints">There will always be three <var>rotors</var> and one <var>reflector</var>, each operating on the letters from 'A' to 'Z'.<br><var>Message Length</var> &lt; 1000 characters</div>
   </div>
   <div class="blk">
      <div class="title">Example</div>
      <div class="statement-inout">
         <div class="statement-inout-in">
            <div class="title">Input</div>
            <pre class="question-statement-example-in">A-E B-K C-M D-F E-L F-G G-D H-Q I-V J-Z K-N L-T M-O N-W O-Y P-H Q-X R-U S-S T-P U-A V-I W-B X-R Y-C Z-J
Q
A-A B-J C-D D-K E-S F-I G-R H-U I-X J-B K-L L-H M-W N-T O-M P-C Q-Q R-G S-Z T-N U-P V-Y W-F X-V Y-O Z-E
E
A-B B-D C-F D-H E-J F-L G-C H-P I-R J-T K-X L-V M-Z N-N O-Y P-E Q-I R-W S-G T-A U-K V-M W-U X-S Y-Q Z-O
V
A-Y B-R C-U D-H E-Q F-S G-L H-D I-P J-X K-N L-G M-O N-K O-M P-I Q-E R-B S-F T-Z U-C V-W W-V X-J Y-A Z-T
A A A
XQGNTD</pre>
         </div>
         <div class="statement-inout-out">
            <div class="title">Output</div>
            <pre class="question-statement-example-out">SIMPLE</pre>
         </div>
      </div>
   </div>
</div>