<h1>Flood the World</h1>

<a href="https://www.codingame.com/training/expert/flood-the-world">https://www.codingame.com/training/expert/flood-the-world</a>

<div class="statement-body">
<div class="statement-section statement-goal">
   <h2><span class="icon icon-goal">&nbsp;</span><span>Goal </span></h2>
   <span class="question-statement">What was bound to happen has happened, Cthulhu or some other Great Elder has finally heard our prayers and opened a portal for our specie to welcome it. As a result, a continuous stream of water from the abyss is now flooding our world.<br><br>With the help of a simple map of the surroundings and your brilliant, if not sane any more, mind, your goal is to find the last town around to be submerged, in the (vain) hope that the portal could be closed before it is too late...<br><br><strong>Some more details:</strong><br><br>- The portal is pouring water continuously from where it is located.<br>- Water behaves as one expect a liquid with no surface tension at all to behave.<br>- If the portal is located on a flat surface, the water flows equally from it on the left and on the right.<br>- A town is flooded when water start raising in it, being simply traversed doesn't count.<br><br>The Dwarf Fortress quality grade diagram below illustrates how things work. Since the portal @ is located on a flat surface, water has flowed on both sides in an equal manner. As such, the volume of water on the left is the same as on the right (6x &quot;~&quot;). The right part being filled, the water will then flow fully on the left (until reaching town B level). Obviously, the town A will be flooded before the water could reach the town B. However, if the water kept flowing, town B wouldn't be submerged until the valley on its right would be completely filled (just imagine that towns are actually floating slightly above the ground).<br><br><pre style="font-family: monospace"><br>+--+                                          +---+<br>    \                               B        /<br>     +---+                        +---+     /<br>          \A             @       /  ^  \   /<br>           \          +----+~~~~/   |   \ /<br>           ^\        /   ^  \~~/    |    +<br>           | \~~~~~~/    |   ++     |<br>           |  +----+     |          |<br>           |             |          |<br>           |             |          |<br>        xTownA        xPortal    xTownB<br></pre><br><br>Don't be fooled by the cheap ASCII diagram above. In this puzzle, the volume of a &quot;pit&quot; is its exact geometric value, not the discrete amount of &quot;~&quot; blocks you can put inside.</span>
</div>
<div class="statement-section statement-protocol">
   <div class="blk">
      <div class="title">Input</div>
      <div class="question-statement-input">- <strong>One line:</strong> The <var>surfacePointCount</var> of points the relief is made up.<br>- <strong>The <var>surfacePointCount</var> lines:</strong> a pair of integers (X, Y) giving the location of a point. By connecting all the points in a sequential manner you will get the relief of the surrounding country (just as in the Mars set of missions).<br>- <strong>One line:</strong> An integer <var>xPortal</var> for the X coordinate of the water portal on the relief.<br>- <strong>One line:</strong> An integer <var>townCount</var> for the number of towns around.<br>- <strong>The <var>townCount</var> next lines:</strong> An integer <var>xTown</var> for the X coordinate of a town on the relief, followed by its name. The portal and the towns are all located on the ground.</div>
   </div>
   <div class="blk">
      <div class="title">Output</div>
      <div class="question-statement-output">- <strong>One line:</strong> The name of the last town to be flooded.</div>
   </div>
   <div class="blk">
      <div class="title">Constraints</div>
      <div class="question-statement-constraints">- Both coordinates X and Y are ranging from 0 to 100.<br>- A town name is a simple word without spaces.<br>- The relief is not too complicated (for any X, there is only one Y) ; in any case, the public test cases are representative.<br>- The relief is always designed in a way that all towns are doomed to be submerged before water starts overflowing the map itself. (Not a happy ending, but it makes for a easier puzzle!)<br> - The portal is never at the same location as a town.</div>
   </div>
   <div class="blk">
      <div class="title">Example</div>
      <div class="statement-inout">
         <div class="statement-inout-in">
            <div class="title">Input</div>
            <pre class="question-statement-example-in">7
0 0
1 5
3 1
4 4
5 2
9 8
11 4
5
2
2 Arkham
7 Dunwich</pre>
         </div>
         <div class="statement-inout-out">
            <div class="title">Output</div>
            <pre class="question-statement-example-out">Dunwich</pre>
         </div>
      </div>
   </div>
</div>