<h1>Prime Transformations</h1>

<a href="https://www.codingame.com/training/expert/prime-transformations">https://www.codingame.com/training/expert/prime-transformations</a>

<div class="statement-body">
<div class="statement-section statement-goal">
   <h2><span class="icon icon-goal">&nbsp;</span><span>Goal </span></h2>
   <span class="question-statement">Every integer 2 or greater <var>N</var> has a unique prime factorisation such that<br><var>N</var> = <var>P1</var>^<var>Q1</var> &times; <var>P2</var>^<var>Q2</var>...<br>where <var>Pi</var> are ascending prime numbers and <var>Qi</var> are positive power indices.<br><br>Examples<br>30 = (2^1)&times;(3^1)&times;(5^1)<br>96 = (2^5)&times; (3^1)<br>900 = (2^2)&times;(3^2)&times;(5^2)<br><br>Consider a transformation that takes all values in a given finite set of primes and maps each prime to another one (it can be the same prime as before, and not necessarily in the initial set, but no two primes map to the same prime).<br><br>For example, take a transformation which has the following mapping:<br>2 -&gt; 11<br>3 -&gt; 17<br>5 -&gt; 2<br><br>Then<br>4 -&gt; 121, (2^2 -&gt; 11^2)<br>9 -&gt; 289,  (3^2 -&gt; 17^2)<br>25 -&gt; 4, (5^2 -&gt; 2^2)<br>6 -&gt; 187 ((2^1)&times;(3^1) -&gt; (11^1)&times;(17^1))<br>10 -&gt; 22 ((2^1)&times;(5^1) -&gt; (11^1)&times;(2^1))<br><br>Your task, given a set of transformed pairs, is to find the transformation and thus apply it to a given integer <var>X</var>.</span>
</div>
<div class="statement-section statement-protocol">
   <div class="blk">
      <div class="title">Input</div>
      <div class="question-statement-input"><strong>Line 1</strong>: <var>X</var> the integer to transform<br><strong>Line 2</strong>: <var>C</var> the number of clues given about the transformation<br><strong>Next <var>C</var> Lines</strong>: For each line, a pair of integers <var>Ai</var> and <var>Bi</var> such that the transformation maps <var>Ai</var> to <var>Bi</var></div>
   </div>
   <div class="blk">
      <div class="title">Output</div>
      <div class="question-statement-output">One line containing <var>Y</var>, the result of the transformation applied to <var>X</var>.</div>
   </div>
   <div class="blk">
      <div class="title">Constraints</div>
      <div class="question-statement-constraints">2 &le; <var>Ai</var>, <var>Bi</var>, <var>X</var>, <var>Y</var> &lt; 2^63<br>2 &le; <var>Pi</var> &le; 100</div>
   </div>
   <div class="blk">
      <div class="title">Example</div>
      <div class="statement-inout">
         <div class="statement-inout-in">
            <div class="title">Input</div>
            <pre class="question-statement-example-in">16
1
2 5</pre>
         </div>
         <div class="statement-inout-out">
            <div class="title">Output</div>
            <pre class="question-statement-example-out">625</pre>
         </div>
      </div>
   </div>
</div>