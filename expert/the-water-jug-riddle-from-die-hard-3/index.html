<h1>The water jug riddle from Die Hard 3</h1>

<a href="https://www.codingame.com/training/expert/the-water-jug-riddle-from-die-hard-3">https://www.codingame.com/training/expert/the-water-jug-riddle-from-die-hard-3</a>

<div class="statement-body">
<div class="statement-section statement-goal">
   <h2><span class="icon icon-goal">&nbsp;</span><span>Goal </span></h2>
   <span class="question-statement">You've got to defuse a bomb by placing exactly 4 liters of water on a sensor.  And you have to be quick!<br><br>The problem is, you only have a 5L jug and a 3L jug on hand! <br><br>See the video clip here: https://youtu.be/BVtQNK_ZUJg<br><br>You have an unlimited water source, and if needed you can also empty the water in the jugs to get rid of it.<br><br>How could 4 liters be measured?<br><br>One method:<br>- Start by filling the 5L bottle. This state could be represented as (0, 5). <br>- Next, pour from the 5L bottle into the 3L bottle until the 3L bottle is full, to get the state (3, 2). <br>- Empty the 3L bottle, changing the state to (0, 2). <br>- Pour the 2 liters of water from the 5L bottle into the 3L bottle, to get the state (2, 0).<br>- Fill the 5L bottle again; the state is now (2, 5). <br>- Pour from the 5L bottle into the 3L bottle until it is full, resulting in the state (3, 4). <br><br>6 moves were used.<br><br>You will need to solve this problem in the general case of <var>N</var> containers and find the length of the shortest sequence of moves.<br><br>You always start with all containers empty.<br><br>Possible moves:<br>- &quot;Fill&quot; a container to reach its capacity<br>- &quot;Empty&quot; water from a container to empty it completely<br>- &quot;Pour&quot; water from a container to another. No water is spilled with this move.</span>
</div>
<div class="statement-section statement-protocol">
   <div class="blk">
      <div class="title">Input</div>
      <div class="question-statement-input"><strong>Line 1:</strong> The amount of water <var>W</var> to be measured (<const>4</const> in the example)<br><strong>Line 2:</strong> The number of containers <var>N</var> to be measured (<const>2</const> in the example)<br><strong>Following <var>N</var> lines:</strong> An integer representing the capacity of the containers (<const>3</const> and <const>5</const> in the example)</div>
   </div>
   <div class="blk">
      <div class="title">Output</div>
      <div class="question-statement-output"><strong>Line 1:</strong> The minimal number of moves <var>M</var> needed to solve the problem (<const>6</const> in the example)</div>
   </div>
   <div class="blk">
      <div class="title">Constraints</div>
      <div class="question-statement-constraints">0 &lt; <var>W</var> &lt; 100<br>1 &lt; <var>N</var> &lt; 5<br>Each container has a unique capacity <var>Ci</var> and:<br>0 &lt; <var>C0</var> &lt; <var>C1</var> ... &lt; <var>CN</var> &lt; 100<br><br>There is always a solution!</div>
   </div>
   <div class="blk">
      <div class="title">Example</div>
      <div class="statement-inout">
         <div class="statement-inout-in">
            <div class="title">Input</div>
            <pre class="question-statement-example-in">4
2
3
5</pre>
         </div>
         <div class="statement-inout-out">
            <div class="title">Output</div>
            <pre class="question-statement-example-out">6</pre>
         </div>
      </div>
   </div>
</div>